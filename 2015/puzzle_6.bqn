#! /usr/bin/env BQN

input â† âŒ½ â€¢FLines "files/6.txt"
ops â† "turn on"â€¿"turn off"â€¿"toggle"
grid â† 0âŒœËœâ†•1e3

Format â† âŠ¢ { 'â€¿'Â¨ âŒ¾ (ğ•©âŠ¸/) ğ•¨ } ','âŠ¸=
Split â† ' ' (+`âˆ˜=âŠ”âŠ¢) âŠ¢
Coords â† â€¢BQN Â¨ Â¯3â€¿Â¯1âŠ¸âŠ
Ins â† {(/ğ•©âŠ¸(âˆ¨Â´â·Ëœ)Â¨ ops) â—¶ ğ•¨}
Vâ€¿H â† {(âŠ‘ğ•©)âŠ¸â†“âˆ˜â‰ (âŠ‘âŒ½ğ•©)âŠ¸â†“}â€¿{(âŠ‘ğ•©)âŠ¸â†‘âˆ˜â‰ (âŠ‘âŒ½ğ•©)âŠ¸â†‘}
Apply â† { (âŠ‘âŒ½ğ•¨) âŒ¾ ((V âŒ½âŠ‘ğ•¨) âˆ˜ (H 1+1âŠ‘ğ•¨)) ğ•© }
Total â† +Â´(+Â´Ë˜ grid ApplyÂ´ âˆ¾Â¨)

c â† Coords âˆ˜ Split âˆ˜ Format Â¨ input

â€¢Show c Total âŸ¨ 1Â¨, 0Â¨, Â¬ âŸ©âŠ¸InsÂ¨ input # part 1
â€¢Show c Total âŸ¨ 1âŠ¸+, 0âŒˆ1-ËœâŠ¢, 2âŠ¸+ âŸ©âŠ¸InsÂ¨ input # part 2
