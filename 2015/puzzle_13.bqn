#!/usr/bin/env BQN

input â† (' '((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢)'.'âŠ¸â‰ âŠ¸/)Â¨ â€¢FLines "files/13.txt"

Strip â† (0â€¿2â€¿3â€¿10 âˆŠËœ â†•11)âŠ¸/
Replace â† ("-+" âŠ‘Ëœ (âŒˆÂ´ "gain"âŠ¸âˆŠ)) âŒ¾ (1âŠ¸âŠ‘)
Truncate â† { (âŠ‘ğ•©)â€¿(â€¢BQN (âˆ¾Â´1â€¿2âŠ¸âŠ) ğ•©)â€¿(âŠ‘âŒ½ğ•©) }
Permutations â† (â‰â†•0){âˆ¾Ë(0âˆ¾Ë˜1+ğ•©)âŠ¸âŠâˆ˜â’Ë˜=âŒœËœâ†•ğ•¨}Â´-âŸœâ†•
Neighbours â† (â‰âˆ˜> Â¯1âŠ¸âŒ½ âˆ¾â—‹< 1âŠ¸âŒ½)âˆ˜âŠËœ
Arrangement â† 1âŠ¸âŠ‘Â¨ âŠ¢ /Ëœ âŠ£ âˆŠËœ âŠ‘âˆ˜âŒ½Â¨âˆ˜âŠ¢
Filter â† <Ë˜Ë˜ âŠ¢ âŠ ((âŠ¢âŠËœ(/0=7|â†•âˆ˜â‰ )) 7â†•âŠ£)
RemoveWorst â† +Â´âˆ˜(âŠ¢/ËœâŠ¢â‰ âŒŠÂ´) +Â´Ë˜âˆ˜â‰âˆ˜(1âŠ¸âŒ½ âŒ¾ âŠ)âˆ˜â‰

potentials â† >Truncateâˆ˜Replaceâˆ˜StripÂ¨ input
people â† â· âŠ‘Â¨ input
perms â† Permutations â‰  people

â€¢Show âŒˆÂ´ (peopleâŠ¸Neighbours (+Â´+Â´âˆ˜ArrangementË˜) potentialsâŠ¸Filter)Ë˜ perms # part 1
#â€¢Show âŒˆÂ´ (RemoveWorst peopleâŠ¸Neighbours ArrangementË˜ potentialsâŠ¸Filter)Ë˜ perms # part 2
