#! /usr/bin/env bqn

⟨Part, Split, ToNat⟩ ← •Import "idioms.bqn"

input ← (ToNat⌾(¯1⊸⊑) ' '⊸Split)¨ •FLines "files/7.txt"

Sub ← 'J'⊸=⊸{ (𝕨 ({⊑⍒/⁼⊐𝕩}⊸⊑ 'J' ∾˜ /∘¬⊸⊏) 𝕩)¨⌾((/𝕨)⊸⊏) 𝕩 }
Rank ← ⊢⊏˜·⍒⊐⚇1⟜(⊑¨)
_f ← { +´ (⊢×1+↕∘≠) ¯1 ⊑¨ ∾ 𝕨⊸Rank¨ 𝔽⊸⊔ 𝕩 }

•Show "AKQJT98765432" (+´∘⊒⊑)¨ _f input # part 1
•Show "AKQT98765432J" (+´∘⊒⊑)∘(Sub∘⊑⋈¯1⊸⊑)¨ _f input # part 2
