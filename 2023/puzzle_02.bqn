#! /usr/bin/env bqn

⟨ToNat, Split⟩ ← •Import "idioms.bqn"

input ← •FLines "files/2.txt"
i ← ∘‿2 ⥊ 'r'‿0‿'g'‿0‿'b'‿0

S ← Split
P ← { { ∘‿2 ⥊ 1 ↓ ' '⊸S 𝕩 }¨ (','⊸≠⊸/)¨ ';' S ⊑ ⌽ ':' S 𝕩 }
_f ← { (𝕗´⊑∘⌽˘)¨ ·(⊢⊔˜·⊐⊑˘) i ∾ (⌽ToNat⊸∾⟜⊑)´˘ }

•Show +´ 1 + / (∧´∘∾ ·(0 ≤ 12‿13‿14 - +_f)¨ P)¨ input # part 1
•Show +´ (×´·⌈_f·∾P)¨ input # part 2
