#! /usr/bin/env bqn

input ← > '0' -˜ •FLines "files/8.txt"

T ← 0=(⊒⌈`)˘
P ← ↓⋈·⌽(1⊸+)⊸↑
S ← { x‿y ← 𝕨 ⋄ ×´ (0⊸∊+·+´×`)∘(1↓⊑⊸>)¨ ((x P y⊏⍉)∾y P x⊸⊏) 𝕩 }

•Show +´+˝ (T ∨ T⌾(⌽˘) ∨ T⌾⍉ ∨ T⌾(⌽˘⍉)) input # part 1
•Show ⊑ ⌈´⌈˝ (⋈ S input˙)⌜˜ ↕≠ input # part 2
