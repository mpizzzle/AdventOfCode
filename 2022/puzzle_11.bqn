#!/usr/bin/env BQN

âŸ¨Digits, Part, Split, ToNat, LCMâŸ© â† â€¢Import "idioms.bqn"

input â† (âŠ¢PartËœ0<â‰ Â¨) â€¢FLines "files/11.txt"

startâ€¿divâ€¿trueâ€¿false â† <Ë˜ (ToNatÂ¨ DigitsâŠ¸Part)Â¨ 1â€¿3â€¿4â€¿5 âŠ â‰> input
mod â† LCMÂ´âˆ¾div

Parse â† âˆ¾âˆ˜âŒ½ "âŠ¢" âˆ¾ ((("+Ã—"âŠ‘Ëœ'*'âŠ¸=) âŒ¾ âŠ‘)âˆ˜(((+Â´'o'âŠ¸â·) âŠ‘ "âŠ¢"â‹ˆËœâŠ¢) âŒ¾ (1âŠ¸âŠ‘)) Â¯2 â†‘ ' 'âŠ¸Split)
Ops â† âŠ£ â—¶ (â€¢BQNâˆ˜ParseÂ¨ 2 âŠË˜ >input)
Update â† (1+âŠ‘)âŠ¸â†“ âˆ¾Ëœ âŠ‘âŠ¸â†‘ âˆ¾ (â‹ˆ(âŠ‘âŠ‘âŠ¸â†“) âˆ¾ âŠ‘âˆ˜âŒ½âˆ˜âŠ£)

Test â† (âˆ¾âŠ£ âŠ‘Â¨ trueâ€¿false âŠËœ 0 â‰  (âŠ‘âŠ£âŠ‘divË™)âŠ¸|) (âŒ½â‹ˆÂ¨) âŠ¢
Total â† âŠ‘âˆ˜âŒ½âˆ˜âŠ¢ + â‰ âˆ˜âŠ‘âŸœâŠ‘ Ã— âŠ£=â†•âˆ˜â‰ âˆ˜âŠ‘âˆ˜âŒ½âˆ˜âŠ¢

_worry â† { ((â†‘âˆ¾(âŸ¨âŸ©âŒ¾âŠ‘)âˆ˜â†“) UpdateÂ´ âŠ£ Test mod | ğ•—âˆ˜(âŠ£ OpsÂ¨ âŠ‘))âŸœâŠ‘ â‹ˆ Total }

â€¢Show Ã—Â´ 2 â†‘ âˆ¨ 1 âŠ‘ start (âŒ½âˆ˜âŠ¢ (âŒŠ3Ã·ËœâŠ¢)_worryÂ´ËœâŸ20 âŠ£â‹ˆ0âŠ¸Ã—) â†•â‰ input # part 1
â€¢Show Ã—Â´ 2 â†‘ âˆ¨ 1 âŠ‘ start (âŒ½âˆ˜âŠ¢ âŠ¢_worryÂ´ËœâŸ10000 âŠ£â‹ˆ0âŠ¸Ã—) â†•â‰ input # part 2
