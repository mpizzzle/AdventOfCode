#!/usr/bin/env BQN

âŸ¨Part, ToIntâŸ© â† â€¢Import "idioms.bqn"

input â† ToIntÂ¨ â€¢FLines "files/20.txt"

D â† { 
  a â† ğ•© ((1-Ëœâ‰ âˆ˜âŠ¢) | /âˆ˜â· + 1âŠ‘âŠ‘âˆ˜âŠ£) ğ•¨
  (0 = a) âŒ½ ğ•© (aâŠ¸â†‘âˆ¾âŠ£âˆ¾aâŠ¸â†“) ğ•© (âˆ¾ Â¬âˆ˜â· Part âŠ¢) ğ•¨
}

B â† âŠ£ D âŠ‘Â¨âŠ¸(/=) âŠ âŠ£
Grove â† âŠ¢ âŠ‘Ëœ â‰ âˆ˜âŠ¢ | |ËœâŸœâ‰  + (/0âŠ¸=)

ss â† 1âŠ¸âŠ‘Â¨ (âŠ¢ BËœÂ´ âŒ½âˆ˜â†•âˆ˜â‰ ) <Ë˜â‰> â†•âˆ˜â‰ âŠ¸â‹ˆ input

(1000âŠ¸Grove + 2000âŠ¸Grove + 3000âŠ¸Grove) ss
