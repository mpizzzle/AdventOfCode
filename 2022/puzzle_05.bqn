#! /usr/bin/env BQN

input ← •FLines "files/5.txt"

crates ← ⌽¨<∘((∨⟜«' '⊸≠)⊸/)∘⌽˘(1+4×↕9)⊏⍉> 8↑input
instructions ← (1-˜1+⌾⊑((10⊸×⊸+˜´∘⌽-⟜'0')¨⊢(¬-˜⊢×·+`»⊸>)⊸⊔˜('0'+↕10)∊˜⊢))¨ 10↓input

⊑¨ crates { (1↑𝕨)‿0⊸((⌽⌽∘↑¨)∾¨↓¨) ⌾ ((1↓𝕨)⊸⊏) 𝕩 }´ ⌽instructions # part 1
⊑¨ crates { (1↑𝕨)‿0⊸((⌽↑¨)∾¨↓¨) ⌾ ((1↓𝕨)⊸⊏) 𝕩 }´ ⌽instructions # part 2
